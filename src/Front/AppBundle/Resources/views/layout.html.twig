{% extends("::base.html.twig") %}


    {% block stylesheets %}
        {{ parent() }}
        <link type="text/css" rel="stylesheet" href="{{ asset('bundles/front/css/connection.css') }}">
    {% endblock %}

                {% block menus %}
                    <ul class="nav navbar-nav">
                        <li class="{% if app.request.attributes.get('_route') == 'news_index' or
                        app.request.attributes.get('_route') == 'front_homepage' %}active{% endif %}">
                            <a href="{{ path("news_index", {"domain" : "all"}) }}">News</a>
                        </li>
                        <li class="{% if app.request.attributes.get('_route') == 'documents_index' %}active{% endif %}">
                            <a href="{{ path("documents_index") }}">Documents références</a>
                        </li>
                        {% if is_granted("IS_AUTHENTICATED_REMEMBERED") %}
                            <li class="{% if app.request.attributes.get('_route') == 'application_index' %}active{% endif %}">
                                <a href="{{ path("application_index") }}">Applications</a>
                            </li>
                        {% endif %}
                        <li>
                            <a href="http://192.168.41.102/dokuwiki/doku.php">Aide</a>
                        </li>
                    </ul>
                {% endblock %}
                {% block menusRight %}
                    <ul class="nav navbar-nav navbar-right">
                        {% if is_granted("IS_AUTHENTICATED_REMEMBERED") %}
                            <li>Connecté en tant que {{ app.user.firstname }}</li>
                            <li><a href="{{ path('fos_user_security_logout') }}">Déconnexion</a></li>
                        {% else %}
                            <li><a href="#" data-toggle="modal" data-target="#login-modal">Se connecter</a></li>
                        {% endif %}
                    </ul>
                {% endblock %}

{% block mainContent %}
    {# The left menu is only displayed for news and application, when he's not here, for the small browsers (exemple: phone),
            need to display the content in full screen #}
    {% if app.request.attributes.get('_route') == 'news_index' or app.request.attributes.get('_route') == 'documents_index' %}
        {% set sizeLeftBar = "col-sm-4" %}
    {% else %}
        {% set sizeLeftBar = "hidden-xs hidden-sm" %}
    {% endif %}

    {# The main content need to be displayed in full screen when there's no left/right bars #}
    {% if app.request.attributes.get('_route') == 'news_index' or app.request.attributes.get('_route') == 'documents_index' %}
        {% set sizeContent ="col-sm-8 col-xs-12" %}
    {% else %}
        {% set sizeContent = "col-sm-12 col-xs-12 col-md-8" %}
    {% endif %}

    <div class="container">
        <div class="row">

            <div class="col-md-2 side-bar {{ sizeLeftBar }}">
                {% block leftMenu %} {% endblock %}
                <div class="hidden-xs hidden-sm">{{ render (controller("FrontAppBundle:Main:sideMenu", { 'position' : 'left'})) }}</div>
            </div>

            {# The content of the page is in this div #}
            <div class="{{ sizeContent }}">
                {% block content %} {% endblock %}
            </div>

            <div class="col-md-2 side-bar hidden-xs hidden-sm">
                {{ render (controller("FrontAppBundle:Main:sideMenu", { 'position' : 'right'})) }}
            </div>
        </div>
    </div>
    {# Display the login pannel when it's called #}
    <div class="modal fade" id="login-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-hidden="true" style="display: none;">
        {{ render(controller("FOSUserBundle:Security:login")) }}
    </div>
{% endblock %}

{% block javascripts %}
    {# Ajoutez ces lignes JavaScript si vous comptez vous servir des fonctionnalit?s du bootstrap Twitter #}
    {{ parent() }}
    <script type="text/javascript" src="{{ asset('bundles/front/js/front.js') }}"></script>
{% endblock %}