{% extends "@FrontDomain/App/base.html.twig" %}

{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript" src="{{ asset("bundles/frontapp/js/jquery.dataTable1.10.12.min.js") }}"></script>
    <script type="text/javascript" src="{{ asset("bundles/frontapp/js/bootstrap.dataTable1.10.12.min.js") }}"></script>
    <script type="text/javascript" src="{{ asset("bundles/frontapp/js/responsive.dataTables2.1.0.min.js") }}"></script>
    <script type="text/javascript" src="{{ asset("bundles/frontapp/js/responsive.bootstrap.datatables2.1.0.min.js") }}"></script>
{% endblock %}

{% block content %}
    <h2 class="col-md-7 text-nowrap">Liste des documents</h2>
    <a class="col-md-3 btn btn-default pull-right" href="{{ path("domain_manager_add_document") }}">
        Créer un document
    </a>
    <table class="table table-striped table-bordered table-hover dataTable">
        <thead>
        <tr>
            <th data-priority="2">Titre</th>
            <th data-priority="5">Domaine</th>
            <th data-priority="4">Auteur</th>
            <th data-priority="3">Date de création</th>
            <th>Début de parution</th>
            <th data-priority="3">Nom du fichier</th>
            <th data-priority="1">Actions</th>
        </tr>
        </thead>
        <tbody>
        {% for document in documents %}
            <tr>
                <td>{{ document.title }}</td>
                <td>{{ document.domain.label }}</td>
                <td>{{ document.creator.firstname|slice(0,1) }}. {{ document.creator.surname }}</td>
                <td>{{ document.creationDate | date('d/m/Y') }}</td>
                <td>{{ document.beginPublicationDate | date('d/m/Y') }}</td>
                <td>{{ document.fileNameShown }}</td>
                <td class="text-center">
                    <a href="{{ path('domain_manager_modify_document', {'id': document.id }) }}"
                       title="Modifier le document">
                        <i class="glyphicon glyphicon-cog"></i>
                    </a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}
