{% extends "FrontBundle::layout.html.twig" %}


{% block title %}
    Documents - {{ parent() }}
{% endblock %}

{% block leftMenu %}
    {# domains means Achat, E-busines, ...
    from is used to know if we have to redirect to "news" or "documents"
    domainsCount need to be deleted in a further evolution, it contains the number of news/document by domain #}
    {{ include("@Front/Main/domainMenu.html.twig",
    { "domains" : domains,
        "from" : app.request.attributes.get('_route'),
        "domainsCount" : domainsCount}) }}
{% endblock %}

{% block content %}
    <div class="main-content">
        <table id="table-document-downloadable" class="table table-striped table-bordered table-hover">
            <thead>
            <tr>
                <th>Auteur</th>
                <th>Titre</th>
                <th>Type</th>
                <th>Date</th>
                <th>Nom du fichier</th>
                <th>Télécharger</th>
            </tr>
            </thead>
            <tbody>
            {% for document in documents %}
            <tr>
                <td>{{ document.author }}</td>
                <td>{{ document.title }}</td>
                <td>{{ document.type }}</td>
                <td>{{ document.creationDate | date("d/m/Y") }}</td>
                <td>{{ document.fileName }}</td>
                <td style="text-align: center"><a href="{{ asset(document.location) }}"><span class="glyphicon glyphicon-download-alt"></span></a></td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.12/js/dataTables.bootstrap.min.js"></script>
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.12/css/dataTables.bootstrap.min.css"/>
{% endblock %}